{"version":3,"sources":["Img/Img.module.css","Img/Img.js","ScrollComponent/ScrollComponent.js","useFetch.js","App/App.js","index.js","App/App.module.css","ScrollComponent/ScrollComponent.module.css"],"names":["module","exports","Img","React","memo","src","className","s","image","ScrollComponent","useState","page","setPage","photos","setPhotos","container","useRef","observer","resp","url","status","data","setData","getData","useCallback","a","axios","get","useEffect","useFetch","current","IntersectionObserver","p","rootMargin","observe","Fragment","scrollComponent","map","photo","index","ref","bottom","App","app","header","onClick","window","scrollTo","top","behavior","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4GACAA,EAAOC,QAAU,CAAC,MAAQ,qB,gKCQXC,EANHC,IAAMC,MAAK,YAAY,IAAVC,EAAS,EAATA,IACrB,OACG,qBAAKC,UAAWC,IAAEC,MAAOH,IAAKA,O,yDCArC,IA0CeI,EA1CS,WACpB,MAAwBC,mBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACMC,EAAYC,mBACZC,EAAWD,mBACXE,ECPK,SAAkBC,GAC7B,MAAwBT,mBAAS,CAACU,OAAQ,UAAWC,KAAM,KAA3D,mBAAOA,EAAP,KAAaC,EAAb,KACMC,EAAUC,sBAAW,sBAAC,4BAAAC,EAAA,+EAEDC,IAAMC,IAAIR,GAFT,OAEdD,EAFc,OAGpBI,EAAQ,CAACD,KAAMH,EAAKG,KAAMD,OAAQ,cAHd,gDAMpBE,EAAQ,CAACD,KAAM,GAAID,OAAQ,aANP,yDAQzB,CAACD,IAKJ,OAHAS,qBAAU,WACNL,MACD,CAACA,EAASJ,IACNE,EDRMQ,CAAS,qDAAD,OAAsDlB,EAAtD,eAerB,OAbAiB,qBAAU,WACLX,EAASa,QAAU,IAAIC,sBAAqB,WACxCnB,GAAQ,SAAAoB,GAAC,OAAIA,EAAI,OAClB,CAACC,WAAY,sBACjBhB,EAASa,QAAQI,QAAQnB,EAAUe,WACpC,IAEHF,qBAAU,WACc,cAAhBV,EAAKE,QACLN,EAAU,GAAD,mBAAKD,GAAL,YAAgBK,EAAKG,UAEnC,CAACH,IAGA,eAAC,IAAMiB,SAAP,WACI,qBAAK7B,UAAS,oBAAeC,IAAE6B,iBAA/B,SAEyB,cAAhBlB,EAAKE,OACFP,EAAOwB,KAAI,SAACC,EAAOC,GACf,OAAQ,cAAC,EAAD,CAEJlC,IAAKiC,EAAMnB,KADNoB,MAGR,KAGjB,qBACIC,IAAKzB,EACLT,UAAWC,IAAEkC,aElBdC,MAlBf,WACE,OACE,sBAAKpC,UAAWC,IAAEoC,IAAlB,UACE,wBAAQrC,UAAWC,IAAEqC,OAArB,SACI,qBAAKtC,UAAS,oBAAeC,IAAEQ,WAA/B,SACE,oBAAI8B,QAAS,WACTC,OAAOC,SAAS,CACZC,IAAK,EACLC,SAAU,YAHlB,sCAQJ,cAAC,EAAD,QCZRC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCR1BtD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,oBAAoB,UAAY,yB,kBCAlFD,EAAOC,QAAU,CAAC,gBAAkB,yCAAyC,OAAS,mC","file":"static/js/main.1e561887.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Img_image__2szvK\"};","import React from 'react';\nimport s from './Img.module.css';\n\nconst Img = React.memo(({src}) => {\n    return (\n       <img className={s.image} src={src} />\n    );\n});\n\nexport default Img;\n","import React, {useEffect, useRef, useState} from 'react';\nimport Img from '../Img/Img';\nimport s from './ScrollComponent.module.css';\nimport useFetch from \"../useFetch\";\n\nconst ScrollComponent = () => {\n    const [page, setPage] = useState(1);\n    const [photos, setPhotos] = useState([]);\n    const container = useRef();\n    const observer = useRef();\n    const resp = useFetch(`https://jsonplaceholder.typicode.com/photos?_page=${page}&_limit=10`);\n\n    useEffect(() => {\n         observer.current = new IntersectionObserver(() => {\n             setPage(p => p + 1);\n         }, {rootMargin: '0px 0px 250px 0px'});\n        observer.current.observe(container.current);\n    }, []);\n\n    useEffect(()=> {\n        if (resp.status === 'fulfilled') {\n            setPhotos([...photos, ...resp.data]);\n        }\n    }, [resp]);\n\n    return (\n        <React.Fragment>\n            <div className={`container ${s.scrollComponent}`}>\n                {\n                    (resp.status === 'fulfilled') ?\n                        photos.map((photo, index) => {\n                            return (<Img\n                                key={index}\n                                src={photo.url}\n                            />)\n                        }) : ''\n                }\n            </div>\n            <div\n                ref={container}\n                className={s.bottom}>\n            </div>\n        </React.Fragment>\n\n    );\n}\n\nexport default ScrollComponent;\n","import {useCallback, useEffect, useState} from \"react\";\nimport axios from \"axios\";\n\nexport default function useFetch(url) {\n    const [data, setData] = useState({status: 'pending', data: []})\n    const getData = useCallback(async () => {\n        try {\n            const resp = await axios.get(url);\n            setData({data: resp.data, status: 'fulfilled'});\n        }\n        catch (e) {\n            setData({data: [], status: 'rejected'});\n        }\n    }, [url]);\n\n    useEffect(()=> {\n        getData();\n    }, [getData, url]);\n    return data;\n}\n","import React from 'react';\nimport s from './App.module.css';\nimport ScrollComponent from '../ScrollComponent/ScrollComponent'\n\nfunction App() {\n  return (\n    <div className={s.app}>\n      <header className={s.header}>\n          <div className={`container ${s.container}`}>\n            <h1 onClick={() => {\n                window.scrollTo({\n                    top: 0,\n                    behavior: 'smooth'\n                });\n            }}>Infinite scroll demo</h1>\n          </div>\n      </header>\n        <ScrollComponent />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1P-Lc\",\"header\":\"App_header__35ut0\",\"container\":\"App_container__30Q4s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollComponent\":\"ScrollComponent_scrollComponent__3gBga\",\"bottom\":\"ScrollComponent_bottom__2WbNz\"};"],"sourceRoot":""}